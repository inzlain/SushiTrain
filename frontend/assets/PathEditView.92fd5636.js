import{r as v,e as x,o as n,g as q,h as k,T as U,c as a,a as e,t as u,d as r,b as i,v as _,s as p,F as y,i as g,u as h,j as d,q as c,n as m,p as f,k as V}from"./index.1e99d4f4.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";const R={data(){return{redirectors:[],policies:[],payloads:[],files:[],isLoading:!0,path:"",notes:"",enabled:!0,allow_headers:"",deny_headers:"",redirector_headers:"",allow_template:"",deny_template:"",allow_action:"payload",deny_action:"404",policy_id:null,payload_id:null,deny_payload_id:null,file_id:null,deny_file_id:null,passthrough_url:"",passthrough_request_headers:!0,passthrough_request_body:!0,passthrough_response_headers:!0,deny_passthrough_url:"",deny_passthrough_request_headers:!0,deny_passthrough_request_body:!0,deny_passthrough_response_headers:!0,redirect_url:"",deny_redirect_url:"",logging:!0,logging_request_body:!0,logging_response_body:!0,slack_notifications:!1,slack_template:`{
	"text": "Request to {{ redirector }}{{ path }}",
	"blocks": [
		{
			"type": "section",
			"text": {
				"type": "mrkdwn",
{% if allowed %}
				"text": ":white_check_mark: Request to \`{{ redirector }}{{ path }}\`\\nAction: {{ action }}"
{% else %}
				"text": ":x: Request to \`{{ redirector }}{{ path }}\`\\nAction: {{ action }}"
{% endif %}
			}
		},
		{
			"type": "divider"
		},
		{
			"type": "section",
			"text": {
				"type": "mrkdwn",
				"text": "IP: \`{{ ip }}\`\\nASN: \`{{ asn }}\`\\nCountry: \`{{ country }}\`\\nUser-Agent: \`{{ user_agent }}\`"
			}
		}
	]
}`,selected_tab:"redirector_headers",error:""}},methods:{checkPathStartsWithSlash(){this.path[0]!=="/"&&(this.path="/"+this.path)},getPath(){this.$route.params.path_id>0?fetch("/api/paths/"+this.$route.params.path_id).then(l=>l.json()).then(l=>{this.path=l.path,this.notes=l.notes,this.enabled=l.enabled,this.policy_id=l.policy_id,this.allow_action=l.allow_action,this.deny_action=l.deny_action,this.payload_id=l.payload_id,this.deny_payload_id=l.deny_payload_id,this.file_id=l.file_id,this.deny_file_id=l.deny_file_id,this.passthrough_url=l.passthrough_url,this.passthrough_request_headers=l.passthrough_request_headers,this.passthrough_request_body=l.passthrough_request_body,this.passthrough_response_headers=l.passthrough_response_headers,this.deny_passthrough_url=l.deny_passthrough_url,this.deny_passthrough_request_headers=l.deny_passthrough_request_headers,this.deny_passthrough_request_body=l.deny_passthrough_request_body,this.deny_passthrough_response_headers=l.deny_passthrough_response_headers,this.redirect_url=l.redirect_url,this.deny_redirect_url=l.deny_redirect_url,this.redirector_headers=l.redirector_headers,this.allow_headers=l.allow_headers,this.deny_headers=l.deny_headers,this.allow_template=l.allow_template,this.deny_template=l.deny_template,this.logging=l.logging,this.logging_request_body=l.logging_request_body,this.logging_response_body=l.logging_response_body,this.slack_notifications=l.slack_notifications,this.slack_template=l.slack_template,this.isLoading=!1}):this.isLoading=!1},addPath(){const l=JSON.stringify({redirector_id:this.$route.params.redirector_id,path:this.path,notes:this.notes,enabled:this.enabled,policy_id:this.policy_id,allow_action:this.allow_action,deny_action:this.deny_action,payload:this.payload_id,deny_payload:this.deny_payload_id,file:this.file_id,deny_file:this.deny_file_id,passthrough_url:this.passthrough_url,passthrough_request_headers:this.passthrough_request_headers,passthrough_request_body:this.passthrough_request_body,passthrough_response_headers:this.passthrough_response_headers,deny_passthrough_url:this.deny_passthrough_url,deny_passthrough_request_headers:this.deny_passthrough_request_headers,deny_passthrough_request_body:this.deny_passthrough_request_body,deny_passthrough_response_headers:this.deny_passthrough_response_headers,redirect_url:this.redirect_url,deny_redirect_url:this.deny_redirect_url,allow_headers:this.allow_headers,deny_headers:this.deny_headers,allow_template:this.allow_template,deny_template:this.deny_template,logging:this.logging,logging_request_body:this.logging_request_body,logging_response_body:this.logging_response_body,slack_notifications:this.slack_notifications,slack_template:this.slack_template});fetch("/api/paths/",{method:"POST",body:l}).then(o=>o.json()).then(o=>{o.created===!0?v.push("/redirectors"):(this.error=o.error,window.scrollTo(0,0))})},editPath(){const l=JSON.stringify({redirector_id:this.$route.params.redirector_id,path:this.path,notes:this.notes,enabled:this.enabled,policy_id:this.policy_id,allow_action:this.allow_action,deny_action:this.deny_action,payload:this.payload_id,deny_payload:this.deny_payload_id,file:this.file_id,deny_file:this.deny_file_id,allow_headers:this.allow_headers,deny_headers:this.deny_headers,passthrough_url:this.passthrough_url,passthrough_request_headers:this.passthrough_request_headers,passthrough_request_body:this.passthrough_request_body,passthrough_response_headers:this.passthrough_response_headers,deny_passthrough_url:this.deny_passthrough_url,deny_passthrough_request_headers:this.deny_passthrough_request_headers,deny_passthrough_request_body:this.deny_passthrough_request_body,deny_passthrough_response_headers:this.deny_passthrough_response_headers,redirect_url:this.redirect_url,deny_redirect_url:this.deny_redirect_url,allow_template:this.allow_template,deny_template:this.deny_template,logging:this.logging,logging_request_body:this.logging_request_body,logging_response_body:this.logging_response_body,slack_notifications:this.slack_notifications,slack_template:this.slack_template});fetch("/api/paths/"+this.$route.params.path_id,{method:"PUT",body:l}).then(o=>o.json()).then(o=>{o.modified===!0?v.push("/redirectors"):(this.error=o.error,window.scrollTo(0,0))})},setRedirectorDefaults(){this.$route.params.redirector_id>0&&fetch("/api/redirectors/"+this.$route.params.redirector_id).then(l=>l.json()).then(l=>{this.policy_id=l.default_policy_id,this.logging=l.default_logging,this.logging_request_body=l.default_logging_request_body,this.logging_response_body=l.default_logging_response_body})},getRedirectors(){fetch("/api/redirectors?list=1").then(l=>l.json()).then(l=>{this.redirectors=l})},getPolicies(){fetch("/api/policies?list=1").then(l=>l.json()).then(l=>{this.policies=l})},getPayloads(){fetch("/api/payloads?list=1").then(l=>l.json()).then(l=>{this.payloads=l})},getFiles(){fetch("/api/files").then(l=>l.json()).then(l=>{this.files=l})}},created(){this.getRedirectors(),this.getPolicies(),this.getPayloads(),this.getFiles(),this.getPath(),this.$route.params.path_id||this.setRedirectorDefaults()}},S={key:0},L={key:0,class:"message is-danger"},T=e("div",{class:"message-header"},[e("p",null,"Error")],-1),C={class:"message-body"},N={class:"box"},A={key:0,class:"title"},j={key:1,class:"title"},D={class:"tile is-ancestor"},H={class:"tile is-parent is-6"},F={class:"tile is-child"},E={class:"field"},B=e("label",{class:"label"},"Path",-1),J={class:"control"},M={class:"tile is-parent is-6"},O={class:"tile is-child"},I={class:"field"},W=e("label",{class:"label"},"Notes",-1),Y={class:"control"},z={class:"tile is-ancestor"},K={class:"tile is-parent is-6"},G={class:"tile is-child"},Q={class:"field"},X=e("label",{class:"label"},"Redirector",-1),Z={class:"control"},$={class:"select"},ee=["value"],se={class:"tile is-parent is-6"},te={class:"tile is-child"},oe={class:"field"},le=e("label",{class:"label"},"Enable/Disable",-1),ie={class:"checkbox"},ne={class:"message is-primary"},de=e("div",{class:"message-header"},"Policy",-1),ae={class:"message-body"},re=e("p",null,"A policy can be set to conditionally control access to this path. Requests that pass the policy will result in an allow action, while requests that don't meet the policy requirements will result in a deny action. If you don't set a policy, then all requests will result in an allow action.",-1),_e=e("br",null,null,-1),he={class:"field"},ce=e("label",{class:"label"},"Select Policy",-1),ue={class:"control"},pe={class:"select"},ye=e("option",{value:"null"},"None",-1),ge=["value"],be={class:"tile is-ancestor"},me={class:"tile is-parent is-6"},fe={class:"tile is-child is-12"},ve={class:"message is-success"},ke=e("div",{class:"message-header"},"Allow Action",-1),we={class:"message-body"},xe={class:"control"},qe={class:"radio"},Ue=e("i",{class:"fas fa-bomb","aria-hidden":"true"},null,-1),Ve={class:"radio"},Pe=e("i",{class:"fas fa-file","aria-hidden":"true"},null,-1),Re={class:"radio"},Se=e("i",{class:"fas fa-right-left","aria-hidden":"true"},null,-1),Le={class:"radio"},Te=e("i",{class:"fas fa-diamond-turn-right","aria-hidden":"true"},null,-1),Ce={class:"radio"},Ne=e("i",{class:"fas fa-x","aria-hidden":"true"},null,-1),Ae=e("br",null,null,-1),je={key:0,class:"field"},De=e("label",{class:"label"},"Select Payload",-1),He={class:"control"},Fe={class:"select"},Ee=e("option",{value:"null"},"None",-1),Be=["value"],Je={key:1,class:"field"},Me=e("label",{class:"label"},"Select File",-1),Oe={class:"control"},Ie={class:"select"},We=e("option",{value:"null"},"None",-1),Ye=["value"],ze={key:2,class:"field"},Ke=e("label",{class:"label"},"URL",-1),Ge={class:"control"},Qe={key:3,class:"field"},Xe=e("label",{class:"label"},"Passthrough",-1),Ze={class:"checkbox"},$e={class:"checkbox"},es={class:"checkbox"},ss={key:4,class:"field"},ts=e("label",{class:"label"},"URL",-1),os={class:"control"},ls={class:"tile is-parent is-6"},is={class:"tile is-child is-12"},ns={class:"message is-danger"},ds=e("div",{class:"message-header"},"Deny Action",-1),as={class:"message-body"},rs={class:"control"},_s={class:"radio"},hs=e("i",{class:"fas fa-bomb","aria-hidden":"true"},null,-1),cs={class:"radio"},us=e("i",{class:"fas fa-file","aria-hidden":"true"},null,-1),ps={class:"radio"},ys=e("i",{class:"fas fa-right-left","aria-hidden":"true"},null,-1),gs={class:"radio"},bs=e("i",{class:"fas fa-diamond-turn-right","aria-hidden":"true"},null,-1),ms={class:"radio"},fs=e("i",{class:"fas fa-x","aria-hidden":"true"},null,-1),vs=e("br",null,null,-1),ks={key:0,class:"field"},ws=e("label",{class:"label"},"Select Payload",-1),xs={class:"control"},qs={class:"select"},Us=e("option",{value:"null"},"None",-1),Vs=["value"],Ps={key:1,class:"field"},Rs=e("label",{class:"label"},"Select File",-1),Ss={class:"control"},Ls={class:"select"},Ts=e("option",{value:"null"},"None",-1),Cs=["value"],Ns={key:2,class:"field"},As=e("label",{class:"label"},"URL",-1),js={class:"control"},Ds={key:3,class:"field"},Hs=e("label",{class:"label"},"Passthrough",-1),Fs={class:"checkbox"},Es={class:"checkbox"},Bs={class:"checkbox"},Js={key:4,class:"field"},Ms=e("label",{class:"label"},"URL",-1),Os={class:"control"},Is={class:"tile is-ancestor"},Ws={class:"tile is-parent is-6"},Ys={class:"tile is-child is-12"},zs={class:"message is-success"},Ks=e("div",{class:"message-header"},"Allow Template",-1),Gs={class:"message-body"},Qs=e("p",null,"The output of the allow action can be optionally wrapped in a Jinja2 template:",-1),Xs=e("br",null,null,-1),Zs={class:"field"},$s={class:"tile is-parent is-6"},et={class:"tile is-child is-12"},st={class:"message is-danger"},tt=e("div",{class:"message-header"},"Deny Template",-1),ot={class:"message-body"},lt=e("p",null,"The output of the deny action can be optionally wrapped in a Jinja2 template:",-1),it=e("br",null,null,-1),nt={class:"field"},dt={class:"tile is-ancestor"},at={class:"tile is-parent is-6"},rt={class:"tile is-child is-12"},_t={class:"message is-success"},ht=e("div",{class:"message-header"},"Allow Headers",-1),ct={class:"message-body"},ut=e("p",null,"These headers will be applied only to allow action responses:",-1),pt=e("br",null,null,-1),yt={class:"field"},gt={class:"tile is-parent is-6"},bt={class:"tile is-child is-12"},mt={class:"message is-danger"},ft=e("div",{class:"message-header"},"Deny Headers",-1),vt={class:"message-body"},kt=e("p",null,"These headers will be applied only to deny action responses:",-1),wt=e("br",null,null,-1),xt={class:"field"},qt={class:"message is-primary"},Ut=e("div",{class:"message-header"},"Other Settings",-1),Vt={class:"message-body"},Pt={class:"tabs"},Rt={key:0,class:"has-text-primary-dark",style:{"text-decoration":"none"}},St=e("strong",null,"Redirector Headers",-1),Lt=[St],Tt={key:1,class:"has-text-primary",style:{"text-decoration":"none"}},Ct={key:0,class:"has-text-primary-dark",style:{"text-decoration":"none"}},Nt=e("strong",null,"Notifications",-1),At=[Nt],jt={key:1,class:"has-text-primary",style:{"text-decoration":"none"}},Dt={key:0,class:"has-text-primary-dark",style:{"text-decoration":"none"}},Ht=e("strong",null,"Logging",-1),Ft=[Ht],Et={key:1,class:"has-text-primary",style:{"text-decoration":"none"}},Bt=e("p",null,"These headers are inherited from the redirector settings and will be applied to this path in addition to the allow or deny action headers specified above. You can modify these headers by editing the redirector.",-1),Jt=e("br",null,null,-1),Mt=e("p",null,'The order of precedence is Allow/Deny Headers -> Passthrough Server Response Headers (only when using a passthrough action) -> Redirector Headers. For example a "Server" header on an allow action will overwrite a "Server" header set on the redirector.',-1),Ot=e("br",null,null,-1),It={class:"field"},Wt={key:1,class:"textarea",rows:"4",disabled:""},Yt=e("p",null,"Log retention can be disabled entirely for the path if desired. Additionally, retention of the request or response body in the logs can be selectively disabled.",-1),zt=e("br",null,null,-1),Kt={class:"field"},Gt=e("label",{class:"label"},"Logging Configuration",-1),Qt={class:"checkbox"},Xt=e("br",null,null,-1),Zt={class:"checkbox"},$t=e("br",null,null,-1),eo={class:"checkbox"},so=e("p",null,"These settings only apply to successful Allow or Deny actions. Requests that result in an error condition will always be fully logged.",-1),to=e("br",null,null,-1),oo=e("p",null,"Disabling retention of logs can be useful in cases where you have very large request or response bodies. It can also be useful when you are passing through high volumes of requests to another server that is already collecting it's own logs.",-1),lo=e("p",null,"Slack notifications can be sent when this path is accessed. You must configure a Slack webhook URL in the .env file during installation to use this functionality.",-1),io=e("br",null,null,-1),no={class:"checkbox"},ao=e("br",null,null,-1),ro=e("br",null,null,-1),_o={class:"field"},ho={class:"field is-grouped"},co={class:"control"},uo=e("span",{class:"icon"},[e("i",{class:"fas fa-circle-check"})],-1),po=e("span",null,"Save",-1),yo=[uo,po],go=e("span",{class:"icon"},[e("i",{class:"fas fa-circle-check"})],-1),bo=e("span",null,"Save",-1),mo=[go,bo],fo={class:"control"},vo=e("span",{class:"icon"},[e("i",{class:"fas fa-circle-xmark"})],-1),ko=e("span",null,"Cancel",-1);function wo(l,o,xo,qo,s,b){const w=x("RouterLink");return n(),q(U,null,{default:k(()=>[s.isLoading===!1?(n(),a("div",S,[s.error?(n(),a("article",L,[T,e("div",C,u(s.error),1)])):r("",!0),e("div",N,[l.$route.params.path_id?(n(),a("h1",A,"Edit Path")):(n(),a("h1",j,"Add Path")),e("div",D,[e("div",H,[e("div",F,[e("div",E,[B,e("div",J,[i(e("input",{onKeyup:o[0]||(o[0]=(...t)=>b.checkPathStartsWithSlash&&b.checkPathStartsWithSlash(...t)),class:"input",type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>s.path=t),placeholder:"/home/example.html",required:""},null,544),[[_,s.path]])])])])]),e("div",M,[e("div",O,[e("div",I,[W,e("div",Y,[i(e("input",{class:"input",type:"text","onUpdate:modelValue":o[2]||(o[2]=t=>s.notes=t),placeholder:"Phishing landing page"},null,512),[[_,s.notes]])])])])])]),e("div",z,[e("div",K,[e("div",G,[e("div",Q,[X,e("div",Z,[e("div",$,[i(e("select",{class:"is-truncated-select-option","onUpdate:modelValue":o[3]||(o[3]=t=>l.$route.params.redirector_id=t)},[(n(!0),a(y,null,g(s.redirectors,t=>(n(),a("option",{key:t.id,value:t.id},u(t.hostname),9,ee))),128))],512),[[p,l.$route.params.redirector_id]])])])])])]),e("div",se,[e("div",te,[e("div",oe,[le,e("label",ie,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=t=>s.enabled=t)},null,512),[[h,s.enabled]]),d(" Path is enabled ")])])])])]),e("article",ne,[de,e("div",ae,[re,_e,e("div",he,[ce,e("div",ue,[e("div",pe,[i(e("select",{class:"is-truncated-select-option","onUpdate:modelValue":o[5]||(o[5]=t=>s.policy_id=t)},[ye,(n(!0),a(y,null,g(s.policies,t=>(n(),a("option",{key:t.id,value:t.id},u(t.name),9,ge))),128))],512),[[p,s.policy_id]])])])])])]),e("div",be,[e("div",me,[e("div",fe,[e("article",ve,[ke,e("div",we,[e("div",xe,[e("label",qe,[i(e("input",{type:"radio",name:"allow_action",value:"payload","onUpdate:modelValue":o[6]||(o[6]=t=>s.allow_action=t),checked:""},null,512),[[c,s.allow_action]]),d(" \xA0"),Ue,d(" Payload ")]),e("label",Ve,[i(e("input",{type:"radio",name:"allow_action",value:"file","onUpdate:modelValue":o[7]||(o[7]=t=>s.allow_action=t)},null,512),[[c,s.allow_action]]),d(" \xA0"),Pe,d(" File ")]),e("label",Re,[i(e("input",{type:"radio",name:"allow_action",value:"passthrough","onUpdate:modelValue":o[8]||(o[8]=t=>s.allow_action=t)},null,512),[[c,s.allow_action]]),d(" \xA0"),Se,d(" Passthrough ")]),e("label",Le,[i(e("input",{type:"radio",name:"allow_action",value:"302","onUpdate:modelValue":o[9]||(o[9]=t=>s.allow_action=t)},null,512),[[c,s.allow_action]]),d(" \xA0"),Te,d(" 302 ")]),e("label",Ce,[i(e("input",{type:"radio",name:"allow_action",value:"404","onUpdate:modelValue":o[10]||(o[10]=t=>s.allow_action=t)},null,512),[[c,s.allow_action]]),d(" \xA0"),Ne,d(" 404 ")])]),Ae,s.allow_action==="payload"?(n(),a("div",je,[De,e("div",He,[e("div",Fe,[i(e("select",{class:"is-truncated-select-option","onUpdate:modelValue":o[11]||(o[11]=t=>s.payload_id=t)},[Ee,(n(!0),a(y,null,g(s.payloads,t=>(n(),a("option",{key:t.id,value:t.id},u(t.name),9,Be))),128))],512),[[p,s.payload_id]])])])])):r("",!0),s.allow_action==="file"?(n(),a("div",Je,[Me,e("div",Oe,[e("div",Ie,[i(e("select",{class:"is-truncated-select-option","onUpdate:modelValue":o[12]||(o[12]=t=>s.file_id=t)},[We,(n(!0),a(y,null,g(s.files,t=>(n(),a("option",{key:t.id,value:t.id},u(t.name),9,Ye))),128))],512),[[p,s.file_id]])])])])):r("",!0),s.allow_action==="passthrough"?(n(),a("div",ze,[Ke,e("div",Ge,[i(e("input",{class:"input",type:"text","onUpdate:modelValue":o[13]||(o[13]=t=>s.passthrough_url=t),placeholder:"https://evil.corp/phish"},null,512),[[_,s.passthrough_url]])])])):r("",!0),s.allow_action==="passthrough"?(n(),a("div",Qe,[Xe,e("label",Ze,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[14]||(o[14]=t=>s.passthrough_request_headers=t)},null,512),[[h,s.passthrough_request_headers]]),d(" Request Headers ")]),d(" \xA0 "),e("label",$e,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[15]||(o[15]=t=>s.passthrough_request_body=t)},null,512),[[h,s.passthrough_request_body]]),d(" Request Body ")]),d(" \xA0 "),e("label",es,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[16]||(o[16]=t=>s.passthrough_response_headers=t)},null,512),[[h,s.passthrough_response_headers]]),d(" Response Headers ")])])):r("",!0),s.allow_action==="302"?(n(),a("div",ss,[ts,e("div",os,[i(e("input",{class:"input",type:"text","onUpdate:modelValue":o[17]||(o[17]=t=>s.redirect_url=t),placeholder:"https://evil.corp/phish"},null,512),[[_,s.redirect_url]])])])):r("",!0)])])])]),e("div",ls,[e("div",is,[e("article",ns,[ds,e("div",as,[e("div",rs,[e("label",_s,[i(e("input",{type:"radio",name:"deny_action",value:"payload","onUpdate:modelValue":o[18]||(o[18]=t=>s.deny_action=t)},null,512),[[c,s.deny_action]]),d(" \xA0"),hs,d(" Payload ")]),e("label",cs,[i(e("input",{type:"radio",name:"deny_action",value:"file","onUpdate:modelValue":o[19]||(o[19]=t=>s.deny_action=t)},null,512),[[c,s.deny_action]]),d(" \xA0"),us,d(" File ")]),e("label",ps,[i(e("input",{type:"radio",name:"deny_action",value:"passthrough","onUpdate:modelValue":o[20]||(o[20]=t=>s.deny_action=t)},null,512),[[c,s.deny_action]]),d(" \xA0"),ys,d(" Passthrough ")]),e("label",gs,[i(e("input",{type:"radio",name:"deny_action",value:"302","onUpdate:modelValue":o[21]||(o[21]=t=>s.deny_action=t)},null,512),[[c,s.deny_action]]),d(" \xA0"),bs,d(" 302 ")]),e("label",ms,[i(e("input",{type:"radio",name:"deny_action",value:"404","onUpdate:modelValue":o[22]||(o[22]=t=>s.deny_action=t)},null,512),[[c,s.deny_action]]),d(" \xA0"),fs,d(" 404 ")])]),vs,s.deny_action==="payload"?(n(),a("div",ks,[ws,e("div",xs,[e("div",qs,[i(e("select",{class:"is-truncated-select-option","onUpdate:modelValue":o[23]||(o[23]=t=>s.deny_payload_id=t)},[Us,(n(!0),a(y,null,g(s.payloads,t=>(n(),a("option",{key:t.id,value:t.id},u(t.name),9,Vs))),128))],512),[[p,s.deny_payload_id]])])])])):r("",!0),s.deny_action==="file"?(n(),a("div",Ps,[Rs,e("div",Ss,[e("div",Ls,[i(e("select",{class:"is-truncated-select-option","onUpdate:modelValue":o[24]||(o[24]=t=>s.deny_file_id=t)},[Ts,(n(!0),a(y,null,g(s.files,t=>(n(),a("option",{key:t.id,value:t.id},u(t.name),9,Cs))),128))],512),[[p,s.deny_file_id]])])])])):r("",!0),s.deny_action==="passthrough"?(n(),a("div",Ns,[As,e("div",js,[i(e("input",{class:"input",type:"text","onUpdate:modelValue":o[25]||(o[25]=t=>s.deny_passthrough_url=t),placeholder:"https://www.example.com"},null,512),[[_,s.deny_passthrough_url]])])])):r("",!0),s.deny_action==="passthrough"?(n(),a("div",Ds,[Hs,e("label",Fs,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[26]||(o[26]=t=>s.deny_passthrough_request_headers=t)},null,512),[[h,s.deny_passthrough_request_headers]]),d(" Request Headers ")]),d(" \xA0 "),e("label",Es,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[27]||(o[27]=t=>s.deny_passthrough_request_body=t)},null,512),[[h,s.deny_passthrough_request_body]]),d(" Request Body ")]),d(" \xA0 "),e("label",Bs,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[28]||(o[28]=t=>s.deny_passthrough_response_headers=t)},null,512),[[h,s.deny_passthrough_response_headers]]),d(" Response Headers ")])])):r("",!0),s.deny_action==="302"?(n(),a("div",Js,[Ms,e("div",Os,[i(e("input",{class:"input",type:"text","onUpdate:modelValue":o[29]||(o[29]=t=>s.deny_redirect_url=t),placeholder:"https://www.example.com"},null,512),[[_,s.deny_redirect_url]])])])):r("",!0)])])])])]),e("div",Is,[e("div",Ws,[e("div",Ys,[e("article",zs,[Ks,e("div",Gs,[Qs,Xs,e("div",Zs,[i(e("textarea",{class:"textarea","onUpdate:modelValue":o[30]||(o[30]=t=>s.allow_template=t),placeholder:`<html>
<head><title>Example</title></head>
<body><h1>{{ output }}</h1></body>
</html>`,rows:"4"},null,512),[[_,s.allow_template]])])])])])]),e("div",$s,[e("div",et,[e("article",st,[tt,e("div",ot,[lt,it,e("div",nt,[i(e("textarea",{class:"textarea","onUpdate:modelValue":o[31]||(o[31]=t=>s.deny_template=t),placeholder:`<html>
<head><title>Example</title></head>
<body><h1>{{ output }}</h1></body>
</html>`,rows:"4"},null,512),[[_,s.deny_template]])])])])])])]),e("div",dt,[e("div",at,[e("div",rt,[e("article",_t,[ht,e("div",ct,[ut,pt,e("div",yt,[i(e("textarea",{class:"textarea","onUpdate:modelValue":o[32]||(o[32]=t=>s.allow_headers=t),placeholder:"Content-Type: text/html; charset=utf-8",rows:"4"},null,512),[[_,s.allow_headers]])])])])])]),e("div",gt,[e("div",bt,[e("article",mt,[ft,e("div",vt,[kt,wt,e("div",xt,[i(e("textarea",{class:"textarea","onUpdate:modelValue":o[33]||(o[33]=t=>s.deny_headers=t),placeholder:"Content-Type: text/html; charset=utf-8",rows:"4"},null,512),[[_,s.deny_headers]])])])])])])]),e("article",qt,[Ut,e("div",Vt,[e("div",Pt,[e("ul",null,[e("li",{class:m({"is-active":s.selected_tab==="redirector_headers"}),onClick:o[34]||(o[34]=t=>s.selected_tab="redirector_headers")},[s.selected_tab==="redirector_headers"?(n(),a("a",Rt,Lt)):(n(),a("a",Tt,"Redirector Headers"))],2),e("li",{class:m({"is-active":s.selected_tab==="notifications"}),onClick:o[35]||(o[35]=t=>s.selected_tab="notifications")},[s.selected_tab==="notifications"?(n(),a("a",Ct,At)):(n(),a("a",jt,"Notifications"))],2),e("li",{class:m({"is-active":s.selected_tab==="logging"}),onClick:o[36]||(o[36]=t=>s.selected_tab="logging")},[s.selected_tab==="logging"?(n(),a("a",Dt,Ft)):(n(),a("a",Et,"Logging"))],2)])]),i(e("div",null,[Bt,Jt,Mt,Ot,e("div",It,[s.redirector_headers?i((n(),a("textarea",{key:0,class:"textarea","onUpdate:modelValue":o[37]||(o[37]=t=>s.redirector_headers=t),rows:"3",disabled:""},null,512)),[[_,s.redirector_headers]]):(n(),a("textarea",Wt,"(no redirector headers configured)"))])],512),[[f,s.selected_tab==="redirector_headers"]]),i(e("div",null,[Yt,zt,e("div",Kt,[Gt,e("label",Qt,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[38]||(o[38]=t=>s.logging=t)},null,512),[[h,s.logging]]),d(" Logging enabled ")]),Xt,d("\xA0\xA0\xA0\xA0 "),e("label",Zt,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[39]||(o[39]=t=>s.logging_request_body=t)},null,512),[[h,s.logging_request_body]]),d(" Log request body ")]),$t,d("\xA0\xA0\xA0\xA0 "),e("label",eo,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[40]||(o[40]=t=>s.logging_response_body=t)},null,512),[[h,s.logging_response_body]]),d(" Log response body ")])]),so,to,oo],512),[[f,s.selected_tab==="logging"]]),i(e("div",null,[lo,io,e("label",no,[i(e("input",{type:"checkbox","onUpdate:modelValue":o[41]||(o[41]=t=>s.slack_notifications=t)},null,512),[[h,s.slack_notifications]]),d(" Enable Slack notifications ")]),ao,ro,e("div",_o,[i(e("textarea",{class:"textarea","onUpdate:modelValue":o[42]||(o[42]=t=>s.slack_template=t),placeholder:"Slack message blocks",rows:"6"},`
                `,512),[[_,s.slack_template]])])],512),[[f,s.selected_tab==="notifications"]])])]),e("div",ho,[e("div",co,[l.$route.params.path_id?(n(),a("button",{key:0,class:"button is-link",type:"submit",onClick:o[43]||(o[43]=t=>b.editPath())},yo)):(n(),a("button",{key:1,class:"button is-link",type:"submit",onClick:o[44]||(o[44]=t=>b.addPath())},mo))]),e("div",fo,[V(w,{class:"button is-link is-light",to:"/redirectors"},{default:k(()=>[vo,ko]),_:1})])])])])):r("",!0)]),_:1})}const Po=P(R,[["render",wo]]);export{Po as default};

import{P as g}from"./vue-debounce.min.c63ad1b9.js";import{D as y}from"./datetime.ba57e231.js";import{e as _,f,o,g as v,h as c,T as k,c as i,a as t,t as n,F as L,i as x,k as d,d as b,b as h,j as w}from"./index.9c24e311.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";import"./_commonjsHelpers.f037b798.js";const D={computed:{DateTime(){return y}},components:{Paginate:g},data(){return{isLoading:!0,payload_name:"",payloadLogs:[],page:1,page_count:1,results_count:0,limit:15}},methods:{getPayload(){this.$route.params.id>0&&fetch("/api/payloads/"+this.$route.params.id).then(s=>s.json()).then(s=>{this.payload_name=s.name})},getPayloadLogs(){this.$route.params.id>0&&fetch("/api/payloads/"+this.$route.params.id+"/logs?page="+this.page+"&limit="+this.limit).then(s=>s.json()).then(s=>{this.payloadLogs=s.results,this.page_count=s.page_count,this.results_count=s.results_count,this.isLoading=!1})}},created(){this.getPayload(),this.getPayloadLogs()}},V={key:0},T={class:"box"},N={class:"title"},S={class:"table is-hoverable"},B=t("thead",null,[t("tr",null,[t("th",{style:{width:"15%"}},"Date"),t("th",{style:{width:"15%"}},"Manual Generation"),t("th",{style:{width:"10%"}},"Size"),t("th",{style:{width:"55%"}},"SHA-256"),t("th",{style:{width:"5%"}},"Details")])],-1),j={key:0},C={key:1},F={class:"has-text-centered"},M=t("span",{class:"icon"},[t("i",{class:"fas fa-circle-info"})],-1),R=t("span",null,"View",-1),q={class:"columns"},z={class:"column is-one-quarter"},I={class:"field is-grouped"},O={class:"control"},A=t("span",{class:"icon"},[t("i",{class:"fas fa-arrow-left"})],-1),E=t("span",null,"Back To Payloads",-1),G={class:"column is-half"},H={class:"pagination is-centered",role:"navigation","aria-label":"pagination"},U={class:"columns is-centered"},Y=t("div",{class:"column is-one-quarter"},null,-1);function J(s,r,K,Q,a,l){const u=_("RouterLink"),m=_("paginate"),p=f("tooltip");return o(),v(k,null,{default:c(()=>[a.isLoading===!1?(o(),i("div",V,[t("div",T,[t("h1",N,"Payload Logs - "+n(a.payload_name),1),t("table",S,[B,t("tbody",null,[(o(!0),i(L,null,x(a.payloadLogs,e=>h((o(),i("tr",null,[h((o(),i("td",null,[w(n(l.DateTime.fromISO(e.datetime).toFormat("yyyy-MM-dd hh:mm:ss")),1)])),[[p,e.datetime,void 0,{top:!0}]]),e.manual?(o(),i("td",j,"Yes")):(o(),i("td",C,"No")),t("td",null,n(e.size.toLocaleString()),1),t("td",null,n(e.hash),1),t("td",F,[d(u,{class:"button is-link is-outlined",to:{name:"payloads-log",params:{payload_id:this.$route.params.id,log_id:e.id}}},{default:c(()=>[M,R]),_:2},1032,["to"])])])),[[p,l.DateTime.fromISO(e.datetime).toRelative(),void 0,{left:!0}]])),256))])]),t("div",q,[t("div",z,[t("div",I,[t("div",O,[d(u,{class:"button is-link",to:"/payloads"},{default:c(()=>[A,E]),_:1})])])]),t("div",G,[t("nav",H,[d(m,{modelValue:a.page,"onUpdate:modelValue":r[0]||(r[0]=e=>a.page=e),"page-count":a.page_count,"click-handler":l.getPayloadLogs,"prev-text":"Previous","next-text":"Next","container-class":"pagination-list","page-link-class":"pagination-link","prev-link-class":"pagination-previous","next-link-class":"pagination-next","active-class":"is-current","disabled-class":"is-disabled","break-view-link-class":"pagination-ellipsis","no-li-surround":!0},null,8,["modelValue","page-count","click-handler"])]),t("div",U,[t("p",null,"(showing "+n(a.payloadLogs.length)+" of "+n(a.results_count)+" total results)",1)])]),Y])])])):b("",!0)]),_:1})}const st=P(D,[["render",J]]);export{st as default};
